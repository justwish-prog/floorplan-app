<script>
  const costInput = document.getElementById("cost");
  const rateInput = document.getElementById("rate");
  const daysInput = document.getElementById("days");
  const grossInput = document.getElementById("gross");
  const improvementInput = document.getElementById("improvement");

  function calculate() {
    const cost = parseFloat(costInput.value) || 0;
    const rate = parseFloat(rateInput.value) || 0;
    const days = parseFloat(daysInput.value) || 0;
    const gross = parseFloat(grossInput.value) || 0;
    const improvement = parseFloat(improvementInput.value) || 0;

    const daily = (cost * (rate / 100)) / 365;
    const total = daily * days;
    const weeklyCost = daily * 7;

    document.getElementById("daily").innerText =
      "$" + daily.toFixed(2);

    document.getElementById("total").innerText =
      "$" + total.toFixed(2);

    // Gross burn calculation
    if (daily > 0 && gross > 0) {
      const burnDays = gross / daily;
      document.getElementById("burnDays").innerText =
        Math.floor(burnDays) + " days";
    } else {
      document.getElementById("burnDays").innerText = "–";
    }

    // Sell vs Hold logic
    let decision = "–";

    if (weeklyCost > 0 && improvement > 0) {
      if (weeklyCost > improvement) {
        decision = "SELL — holding erodes value";
      } else {
        decision = "HOLD — improvement exceeds cost";
      }
    } else if (gross > 0 && daily > 0 && total > gross) {
      decision = "SELL — gross already consumed";
    }

    document.getElementById("decision").innerText = decision;
  }

  [
    costInput,
    rateInput,
    daysInput,
    grossInput,
    improvementInput
  ].forEach(input => input.addEventListener("input", calculate));
</script>
